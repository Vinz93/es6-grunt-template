{"version":3,"sources":["../index.js"],"names":["app","use","json","listen","port","console","log","connect","options","server","socketOptions","keepAlive","db","connection","on","once"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;;AAEA,SAASC,MAAT,GAAkB;AAChBH,MAAIG,MAAJ,CAAW,sBAAOC,IAAlB,EACG;AAAA,WAAMC,QAAQC,GAAR,+BAAwC,sBAAOF,IAA/C,CAAN;AAAA,GADH;AAED;;AAED,SAASG,OAAT,GAAmB;AACjB,MAAMC,UAAU;AACdC,YAAQ;AACNC,qBAAe;AACbC,mBAAW;AADE;AADT;AADM,GAAhB;;AAQF,SAAO,mBAASJ,OAAT,CAAiB,sBAAOK,EAAxB,EAA2BJ,OAA3B,EAAoCK,UAA3C;AACC;;AAEDN,UACGO,EADH,CACM,OADN,EACeT,QAAQC,GADvB,EAEGQ,EAFH,CAEM,cAFN,EAEsBP,OAFtB,EAGGQ,IAHH,CAGQ,MAHR,EAGeZ,MAHf","file":"index.js","sourcesContent":["import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\n\r\nimport config from './config/env/development';\r\n\r\nconst app = express();\r\n\r\napp.use(bodyParser.json());\r\n\r\nfunction listen() {\r\n  app.listen(config.port,\r\n     () => console.log(`app is listening on port ${config.port}`));\r\n}\r\n\r\nfunction connect() {\r\n  const options = {\r\n    server: {\r\n      socketOptions: {\r\n        keepAlive: 1,\r\n      },\r\n    }\r\n  };\r\n\r\nreturn mongoose.connect(config.db,options).connection;\r\n}\r\n\r\nconnect()\r\n  .on('error', console.log)\r\n  .on('disconnected', connect)\r\n  .once('open',listen);\r\n"]}